<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>order address</title>

  <link rel="stylesheet" href="https://fontawesome.com/v4.7.0/assets/font-awesome/css/font-awesome.css">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Kanit&display=swap" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
  <link rel="stylesheet" href="/cartStyle.css">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
    crossorigin="anonymous"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    integrity="sha512-iecdLmaskl7CVkqkXNQ/ZH/XLlvWZOJyj7Yy7tcenmpD1ypASozpmT/E0iPtmFIB46ZmdtAc9eNBvH0H/ZpiBw=="
    crossorigin="anonymous" referrerpolicy="no-referrer" />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Poppins&display=swap" rel="stylesheet">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.4/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>

</head>

<body>
  <!-- header section starts -->
  <nav class="navbar navbar-expand-lg navbar-light bg-light p-3">
    <div class="container-fluid">
        <div class="brand-container ms-3">
          <a class="navbar-brand ms-5" href="/home" style="font-size: 30px;font-weight: 600;font-family: 'Kanit', sans-serif;">Fashion Feet</a>
        </div>
    </div>
  </nav>  

  <!-- header section ended -->


  <!-- content section starts -->
        <section class="mt-5">
            <div class="container">
                <div class="row ">
                    <div class="card col-lg-8 col-md-8 col-sm-12 col-12 rounded border-0 d-flex">
                      <div class="header-container d-flex justify-content-between pb-1">
                        <h4>
                          Choose Address
                        </h4>
                        <%if(addresses.length < 2) {%>
                          <% if (is_single){ %>
                            <a href="/load-add-address?price=<%=totalPrice%>&product_id=<%=product_id%>" class="btn btn-primary">Add Address</a>
  
                            <% } else {%>
                          <a href="/load-add-address?price=<%=totalPrice%>" class="btn btn-primary">Add Address</a>
                          <% } %>
                        <%}%>
                      </div>
                      <div class="row mt-2 mb-2">
                          <p class="text-muted"><%=(typeof adderror!=='undefined' )?adderror:""%></p>
                        <% if (!addresses || addresses.length === 0){ %>

                          <p class="text-muted"><%=(typeof addressmsg!=='undefined' )?addressmsg:""%></p>
              
                        <% } else {%>
                        <% let i = 1 %><% addresses.slice(0, 2).forEach(address => { %>
                       <div class="col-12 col-sm-12 col-md-6 col-lg-6  pb-2 border rounded bg-light">
                        <div class="address-num text-center"><h6>Address <%=i%></h6></div>
                        <div class="value-container border rounded d-flex justify-content-around mb-4"><span class="fw-semibold">Name :</span> <%=address.order_name%></div>
                        <div class="value-container border rounded d-flex justify-content-around mb-4"><span class="fw-semibold">Number :</span> <%=address.address_number%></div>
                        <div class="value-container border rounded d-flex justify-content-around mb-4"><span class="fw-semibold">Pincode :</span> <%=address.pincode%></div>
                        <div class="value-container border rounded d-flex justify-content-around mb-4"><span class="fw-semibold">Locality :</span> <%=address.locality%></div>
                        <div class="value-container border rounded d-flex justify-content-around mb-4"><span class="fw-semibold">City :</span> <%=address.place%></div>
                        <div class="value-container border rounded d-flex justify-content-around mb-4"><span class="fw-semibold">State :</span> <%=address.state%></div>
                        <div class="value-container border rounded d-flex justify-content-around mb-4"><span class="fw-semibold">Address :</span> <%=address.address%></div>
                            <% if (is_single){ %>
                              <a href="/edit-address?id=<%=address._id%>&price=<%=totalPrice%>&product_id=<%=product_id%>" class="btn btn-primary rounded">Edit</a>

                              <% } else {%>
                            <a href="/edit-address?id=<%=address._id%>&price=<%=totalPrice%>" class="btn btn-primary rounded">Edit</a>
                            <% } %>
                            <!-- <% if (is_single){ %>
                              <a href="/remove-address?id=<%=address._id%>&price=<%=totalPrice%>&product_id=<%=product_id%>" class="btn btn-danger rounded">Remove</a>

                              <% } else {%>
                            <a href="/remove-address?id=<%=address._id%>&price=<%=totalPrice%>" class="btn btn-danger rounded">Remove</a>
                            <% } %> -->
                            <% if (is_single){ %>
                              <a href="/loadPaySelection?id=<%=address._id%>&price=<%=totalPrice%>&product_id=<%=product_id%>" class="btn btn-success rounded">Deliver Here</a>

                              <% } else {%>
                            <a href="/loadPaySelection?id=<%=address._id%>&price=<%=totalPrice%>" class="btn btn-success rounded">Deliver Here</a>
                            <% } %>
                      </div>
                      <% i++ %>
                      <% }); %>
                      <% } %>
                    </div>
                </div>
                <div class="col-md-4 col-sm-6 col-lg-4">
                    <div class="card mb-4">
                      <div class="card-header py-3">
                        <h5 class="mb-0">Price Details</h5>
                      </div>
                      <div class="card-body">
                        <ul class="list-group list-group-flush">
                              <li class="list-group-item d-flex justify-content-between align-items-center border-0 px-0 pb-0">
                                     Total Amount
                                  <span>
                                    <%=totalPrice%>
                                  </span>
                              </li>
                                <li class="list-group-item d-flex justify-content-between align-items-center px-0">
                                  Delivery Charge
                                  <span>Free</span>
                                </li>
                        </ul>
                      </div>
                    </div>
                    <div class="back-button-container d-flex justify-content-end">
                      <a href="javascript:history.back()">
                        <button type="button" class="btn btn-danger">Go Back</button>
                      </a>
                    </div>
                  </div>
            </div>
            </div>
        </section>
  <!-- content section ends -->

    <script>

function validateInput(input) {
      if (input.value.trim() === '') {
        input.setCustomValidity("Please enter a valid value.");
      } else {
        input.setCustomValidity('');
      }
    }
    </script>      

</body>

</html>